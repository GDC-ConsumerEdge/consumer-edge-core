####
#
#   Refer to the README.md for instructions on how to use this template file for your inventory.
#
####

## NOTE: Host names are DNS resolved to your physical host. Some routers assign .lan or other suffix. Comment out, add or adjust this file to represent your physical hardware

edge_cluster:
  vars:
    # Name of the cluster
    cluster_name: "edge-1"
    # Name of the "store" per the ACM repo
    acm_cluster_name: "{{ lookup('env', 'CLUSTER_ACM_NAME') | default('edge-1', True) }}"
    # The other IPs in the cluster
    peer_node_ips: [
      "192.168.3.11",
      "192.168.3.12",
      "192.168.3.13"
    ]
    # KubeAPI IP address
    control_plane_vip: "192.168.3.100"
    # Ingress (k8s) address, must be in LoadBalancer pool below
    ingress_vip: "192.168.3.20"
    # Load balancers created in this range
    load_balancer_pool_cidr: [
      "192.168.3.20-192.168.3.30" # 9 IPs for LB + 1 Ingress
    ]
    # Install observability using Legacy agents (override)
    install_observability: false # skip observability on install
    # Ansible Pull Authenticaiton String (if left undefined, no ansible-pull will be installed)
    ansible_pull_authentication_string: "{{scm_token_user}}:{{scm_token_token}}@"
    # Ansible Pull repo for Remote Execution
    ansible_pull_remote_execute_repo: "https://{{ ansible_pull_authentication_string | default('', true) }}gitlab.com/gcp-solutions-public/retail-edge/remote-command-repo.git"
    # Ansible pull repo for cluster operations
    ansible_pull_cluster_ops_repo: "https://{{ ansible_pull_authentication_string | default('', true) }}gitlab.com/gcp-solutions-public/cluster-operations/update-cluster-repo.git"
  hosts:
    edge-1:
      node_ip: "192.168.3.11"
      primary_cluster_machine: true
      machine_label: "edge-1"
    edge-2:
      node_ip: "192.168.3.12"
      machine_label: "edge-2"
    edge-3:
      node_ip: "192.168.3.13"
      machine_label: "edge-3"

####
#### Each cluster is defined within one block. Below is an example of a second cluster
####
# example_second_cluster:
#   vars:
#     # Name of the cluster
#     cluster_name: "example-second"
#     acm_cluster_name: "example-second-cluster"
#     # The other IPs in the cluster
#     peer_node_ips: [
#       "192.168.1.11",
#       "192.168.1.12",
#       "192.168.1.13"
#     ]
#     # KubeAPI IP address
#     control_plane_vip: "192.168.1.100"
#     # Ingress (k8s) address, must be in LoadBalancer pool below
#     ingress_vip: "192.168.1.20"
#     # Load balancers created in this range
#     load_balancer_pool_cidr: [
#       "192.168.1.20-192.168.1.30" # 9 IPs for LB + 1 Ingress
#     ]
#   hosts:
#     example-host-1:
#       node_ip: "192.168.1.11"
#       primary_cluster_machine: true
#       machine_label: "example-host-1"
#     example-host-2:
#       node_ip: "192.168.1.12"
#       machine_label: "example-host-2"
#     example-host-3:
#       node_ip: "192.168.1.13"
#       machine_label: "example-host-3"
